<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">关闭</span></button>
      <h4 class="modal-title">Add Project</h4>
    </div>
    <div class="modal-body">
      <div class="input-group">
        <span class="input-group-addon">Project Name</span>
        <input name="project_name" class="form-control" required="required" placeholder="Input a new project name">
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-default" data-dismiss="modal">close</button>
      <button type="submit" class="btn btn-primary" >submit</button>
    </div>
  </div>
</div>
<script>
  $(document).ready(function(){
    $('button[type=submit]').click(function(){
      var project_name = $('input[name=project_name]');
      if(!project_name.val()){
        new $.zui.Messager('Project name is required', {type:'warning', icon:'warning-sign', time:2000}).show();
        project_name.focus()
      }else{
        $.ajax({
          type: 'post',
          url: '/api/project/',
          data: {project_name:project_name.val()},
          success: function(data){
            /*data = JSON.parse(data)*/
            console.log(data.id)
            location.href = "/project/"+data.id;
          },
          error: function(data){
            new $.zui.Messager('Something error', {type:'warning', icon:'warning-sign', time:2000}).show();
            console.log(data);
          }
        });
      }
    });
  });
</script>